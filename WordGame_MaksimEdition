
using System.Collections.Generic; 
using System; 
 
class HelloWorld 
{ 
    static void Main() 
    { 
        List<string> wordsUsed = new List<string>(); 
        string word1 = ""; 
        Console.WriteLine("Напишите ваше слово если хотите сдаться пишите 1  либо поражение"); 
        string word2 = Console.ReadLine(); 
        wordsUsed.Add(word2); 
        int lastword = word2.Length - 1; 
        bool proverka = true; 
        bool gamer = true; 
        if (word2 == "поражение" || word2 == "1") 
        { 
            Console.WriteLine("Игра окончена"); 
        } 
        else 
        { 
            while (true) 
            { 
                if (!gamer) 
                { 
                    Console.WriteLine("Напишите ваше слово игрок 1"); 
                    word1 = Console.ReadLine(); 
                    gamer = true; 
                } 
                else if (gamer) 
                { 
                    Console.WriteLine("Напишите ваше слово игрок 2"); 
                    word1 = Console.ReadLine(); 
                    gamer = false; 
                } 
                if (word1 == "поражение" || word1 == "1") 
                { 
                    Console.WriteLine("Игра окончена"); 
                    if(!gamer){ 
                        Console.WriteLine("Победил игрок 1"); 
                    } 
                    else 
                    { 
                        Console.WriteLine("Победил игрок 2"); 
                    } 
                    break; 
                } 
                foreach (string slov in wordsUsed) 
                { 
                    if (slov == word1) 
                    { 
                        Console.WriteLine("Такое слово уже было"); 
                        gamer = !gamer; 
                        proverka = false; 
                        break; 
                    } 
                    else 
                    { 
                        proverka = true; 
                    } 
                } 
                if (proverka == true) 
                { 
                    lastword = word2.Length - 1; 
                    if (word2[lastword] == 'ь' || word2[lastword] == 'ъ') 
                    { 
                        lastword = word2.Length - 2; 
                    } 
                    else 
                    { 
                        lastword = word2.Length - 1; 
                    } 
                    if (word1[0] == word2[lastword]) 
                    { 
                        word2 = word1; 
                        Console.WriteLine("Слово подходит"); 
                        wordsUsed.Add(word1); 
                    } 
                    else 
                    { 
                        Console.WriteLine("Слово не подходит на полседнюю букву"); 
                        gamer = !gamer; 
                    } 
                } 
            } 
        } 
    } 
}
